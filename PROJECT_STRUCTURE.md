# ã‚ªãƒªã‚¨ãƒ³ã‚¿ãƒ«ã‚·ãƒŠã‚¸ãƒ¼ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
madoc_line/
â”œâ”€â”€ backend/                    # FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py          # èªè¨¼é–¢é€£API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users.py         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ companies.py     # ä¼æ¥­ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff.py         # ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reservations.py  # äºˆç´„ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assignments.py   # ã‚¢ã‚µã‚¤ãƒ³ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ attendance.py    # å‹¤æ€ ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ evaluations.py   # è©•ä¾¡ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notifications.py # é€šçŸ¥ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ line.py          # LINEé€£æºAPI
â”‚   â”‚   â”‚   â””â”€â”€ deps.py        # ä¾å­˜æ€§æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ core/              # ã‚³ã‚¢æ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py      # è¨­å®šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ security.py    # JWTã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
â”‚   â”‚   â”‚   â””â”€â”€ permissions.py # RBACæ¨©é™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ db/                # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py        # Base model
â”‚   â”‚   â”‚   â”œâ”€â”€ session.py     # DBæ¥ç¶š
â”‚   â”‚   â”‚   â””â”€â”€ init_db.py     # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
â”‚   â”‚   â”œâ”€â”€ models/            # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ company.py     # ä¼æ¥­ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ staff.py       # ã‚¹ã‚¿ãƒƒãƒ•ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation.py # äºˆç´„ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ assignment.py  # ã‚¢ã‚µã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ attendance.py  # å‹¤æ€ ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ evaluation.py  # è©•ä¾¡ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ notification.py# é€šçŸ¥ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ schemas/           # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ company.py
â”‚   â”‚   â”‚   â”œâ”€â”€ staff.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation.py
â”‚   â”‚   â”‚   â”œâ”€â”€ assignment.py
â”‚   â”‚   â”‚   â”œâ”€â”€ attendance.py
â”‚   â”‚   â”‚   â”œâ”€â”€ evaluation.py
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.py
â”‚   â”‚   â”‚   â””â”€â”€ token.py       # JWT Token
â”‚   â”‚   â”œâ”€â”€ services/          # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ user_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ company_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ staff_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ assignment_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ attendance_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ evaluation_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ notification_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ email_service.py
â”‚   â”‚   â”‚   â””â”€â”€ line_service.py
â”‚   â”‚   â”œâ”€â”€ utils/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”‚   â”œâ”€â”€ datetime.py    # æ—¥æ™‚å‡¦ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.py  # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”‚   â””â”€â”€ constants.py   # å®šæ•°å®šç¾©
â”‚   â”‚   â””â”€â”€ main.py            # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ alembic/               # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ versions/
â”‚   â”‚   â”œâ”€â”€ env.py
â”‚   â”‚   â””â”€â”€ alembic.ini
â”‚   â”œâ”€â”€ tests/                 # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ conftest.py
â”‚   â”œâ”€â”€ requirements.txt       # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â”œâ”€â”€ .env.example           # ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”‚   â””â”€â”€ Dockerfile             # Dockerã‚¤ãƒ¡ãƒ¼ã‚¸
â”‚
â”œâ”€â”€ frontend/                  # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/              # App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/       # èªè¨¼ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/        # ç®¡ç†è€…ç”»é¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ companies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reservations/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ attendance/
â”‚   â”‚   â”‚   â”œâ”€â”€ company/      # ä¼æ¥­å´ç”»é¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reservations/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ evaluations/
â”‚   â”‚   â”‚   â”œâ”€â”€ staff/        # ã‚¹ã‚¿ãƒƒãƒ•å´ç”»é¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mypage/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ shifts/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ attendance/
â”‚   â”‚   â”‚   â”œâ”€â”€ liff/         # LINE LIFFç”»é¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ clock-in/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ clock-out/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ components/       # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ common/       # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Table.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Loading.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/       # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ forms/        # ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CompanyForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StaffForm.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReservationForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ features/     # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚       â”œâ”€â”€ attendance/
â”‚   â”‚   â”‚       â”œâ”€â”€ evaluation/
â”‚   â”‚   â”‚       â””â”€â”€ calendar/
â”‚   â”‚   â”œâ”€â”€ lib/              # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”‚   â”œâ”€â”€ api/          # APIå‘¼ã³å‡ºã—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ companies.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reservations.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/         # èªè¨¼é–¢é€£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ permissions.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ date.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”‚   â”‚   â””â”€â”€ hooks/        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚       â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ useApi.ts
â”‚   â”‚   â”‚       â””â”€â”€ useForm.ts
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScriptå‹å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ models.ts
â”‚   â”‚   â”‚   â””â”€â”€ common.ts
â”‚   â”‚   â””â”€â”€ styles/           # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚       â”œâ”€â”€ globals.css
â”‚   â”‚       â””â”€â”€ custom.scss   # Bootstrap ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
â”‚   â”œâ”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ .env.local.example
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ database/                 # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
â”‚   â”œâ”€â”€ schema.sql           # ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”‚   â”œâ”€â”€ er-diagram.md        # ERå›³
â”‚   â”œâ”€â”€ seed-data.sql        # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ migrations/          # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´
â”‚
â”œâ”€â”€ docs/                    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ 01-database-design.md    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ 02-api-specification.md  # APIä»•æ§˜æ›¸
â”‚   â”œâ”€â”€ 03-auth-design.md        # èªè¨¼è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ 04-frontend-design.md    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ 05-line-integration.md   # LINEé€£æºè¨­è¨ˆæ›¸
â”‚   â””â”€â”€ 06-deployment.md         # ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸
â”‚
â”œâ”€â”€ OrientalSynergy-main/    # æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå‚è€ƒç”¨ï¼‰
â”‚
â”œâ”€â”€ docker-compose.yml       # é–‹ç™ºç’°å¢ƒæ§‹æˆ
â”œâ”€â”€ docker-compose.prod.yml  # æœ¬ç•ªç’°å¢ƒæ§‹æˆ
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **è¨€èª**: Python 3.11+
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: FastAPI
- **ORM**: SQLAlchemy 2.0
- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: Alembic
- **èªè¨¼**: python-jose (JWT), passlib (bcrypt)
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Pydantic v2
- **DBæ¥ç¶š**: asyncpg (éåŒæœŸPostgreSQL)
- **Redis**: aioredis (ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†)
- **ãƒ†ã‚¹ãƒˆ**: pytest, pytest-asyncio

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **è¨€èª**: TypeScript 5.x
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 14 (App Router)
- **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React 18
- **CSS**: Bootstrap 5 + ã‚«ã‚¹ã‚¿ãƒ SCSS
- **çŠ¶æ…‹ç®¡ç†**: React Context + SWR
- **ãƒ•ã‚©ãƒ¼ãƒ **: react-hook-form + zod
- **HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: axios
- **æ—¥æ™‚å‡¦ç†**: date-fns
- **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼**: react-big-calendar
- **ãƒ†ã‚¹ãƒˆ**: Jest, React Testing Library

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **RDBMS**: PostgreSQL 15
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis 7

### ã‚¤ãƒ³ãƒ•ãƒ©
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker, Docker Compose
- **ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·**: Nginx
- **ã‚¯ãƒ©ã‚¦ãƒ‰**: AWS (EC2, RDS, S3, CloudFront)
- **CI/CD**: GitHub Actions

### å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹
- **LINE**: LINE Messaging API, LIFF SDK
- **ãƒ¡ãƒ¼ãƒ«**: SendGrid / AWS SES
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: AWS S3

## ğŸ“‹ é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 0: ç’°å¢ƒæ§‹ç¯‰ (Week 1-2)
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ
- [ ] Dockerç’°å¢ƒæ§‹ç¯‰
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
- [ ] é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Phase 1: èªè¨¼ãƒ»åŸºæœ¬æ©Ÿèƒ½ (Week 3-6)
- [ ] èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API
- [ ] åŸºæœ¬çš„ãªç®¡ç†ç”»é¢

### Phase 2: äºˆç´„ãƒ»æ¥­å‹™ç®¡ç† (Week 7-11)
- [ ] äºˆç´„ç®¡ç†æ©Ÿèƒ½
- [ ] ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ã‚µã‚¤ãƒ³æ©Ÿèƒ½
- [ ] æ¥­å‹™ç®¡ç†æ©Ÿèƒ½

### Phase 3-5: å‹¤æ€ ãƒ»è©•ä¾¡ãƒ»é€šçŸ¥ (Week 12-13)
- [ ] å‹¤æ€ æ‰“åˆ»æ©Ÿèƒ½
- [ ] è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ãƒ¡ãƒ¼ãƒ«é€šçŸ¥æ©Ÿèƒ½

### Phase 4B-C: LINEé€£æº (Week 14-16)
- [ ] LINEé€šçŸ¥æ©Ÿèƒ½
- [ ] LINEæ‰“åˆ»æ©Ÿèƒ½ (LIFF)
- [ ] ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š

### Phase æœ€çµ‚: ãƒ†ã‚¹ãƒˆãƒ»ãƒªãƒªãƒ¼ã‚¹ (Week 17)
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒã‚°ä¿®æ­£
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

1. **èªè¨¼**
   - JWT ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼
   - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ (15åˆ†) + ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ (7æ—¥é–“)
   - HTTPOnly Cookie ã§ã®ãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜

2. **èªå¯**
   - ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ (RBAC)
   - ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ãƒ™ãƒ«ã®æ¨©é™ãƒã‚§ãƒƒã‚¯

3. **ãƒ‡ãƒ¼ã‚¿ä¿è­·**
   - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã® bcrypt ãƒãƒƒã‚·ãƒ¥åŒ–
   - å€‹äººæƒ…å ±ã®æš—å·åŒ–ä¿å­˜
   - SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­– (ORMä½¿ç”¨)
   - XSS å¯¾ç­– (é©åˆ‡ãªã‚¨ã‚¹ã‚±ãƒ¼ãƒ—)
   - CSRF å¯¾ç­– (ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼)

4. **é€šä¿¡**
   - HTTPS å¿…é ˆ
   - CORS è¨­å®š
   - ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆå®Ÿè£…

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¦‚è¦

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«

1. **users** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ (ç®¡ç†è€…ãƒ»ä¼æ¥­ãƒ»ã‚¹ã‚¿ãƒƒãƒ•å…±é€š)
2. **companies** - ä¼æ¥­æƒ…å ±
3. **company_offices** - äº‹æ¥­æ‰€æƒ…å ±
4. **company_employees** - ä¼æ¥­ã®ç¤¾å“¡æƒ…å ±
5. **staff** - ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±
6. **staff_skills** - ã‚¹ã‚¿ãƒƒãƒ•ã®ã‚¹ã‚­ãƒ«
7. **reservations** - äºˆç´„æƒ…å ±
8. **reservation_slots** - äºˆç´„æ ï¼ˆç¤¾å“¡ã”ã¨ã®æ™‚é–“æ ï¼‰
9. **assignments** - ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ã‚µã‚¤ãƒ³æƒ…å ±
10. **attendance** - å‹¤æ€ è¨˜éŒ²
11. **evaluations** - è©•ä¾¡æƒ…å ±
12. **notifications** - é€šçŸ¥æƒ…å ±
13. **line_users** - LINEé€£æºæƒ…å ±

## ğŸ”„ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¦‚è¦

### èªè¨¼ (/api/v1/auth)
- POST /login - ãƒ­ã‚°ã‚¤ãƒ³
- POST /logout - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- POST /refresh - ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
- POST /password-reset - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆè¦æ±‚
- POST /password-reset/confirm - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆç¢ºèª

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† (/api/v1/users)
- GET /me - ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- PUT /me - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°
- GET / - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ (ç®¡ç†è€…ã®ã¿)
- POST / - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ (ç®¡ç†è€…ã®ã¿)

### ä¼æ¥­ç®¡ç† (/api/v1/companies)
- GET / - ä¼æ¥­ä¸€è¦§
- POST / - ä¼æ¥­ä½œæˆ
- GET /{id} - ä¼æ¥­è©³ç´°
- PUT /{id} - ä¼æ¥­æ›´æ–°
- DELETE /{id} - ä¼æ¥­å‰Šé™¤
- GET /{id}/offices - äº‹æ¥­æ‰€ä¸€è¦§
- POST /{id}/offices - äº‹æ¥­æ‰€ä½œæˆ

### ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç† (/api/v1/staff)
- GET / - ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§
- POST / - ã‚¹ã‚¿ãƒƒãƒ•ä½œæˆ
- GET /{id} - ã‚¹ã‚¿ãƒƒãƒ•è©³ç´°
- PUT /{id} - ã‚¹ã‚¿ãƒƒãƒ•æ›´æ–°
- DELETE /{id} - ã‚¹ã‚¿ãƒƒãƒ•å‰Šé™¤
- GET /search - ã‚¹ã‚¿ãƒƒãƒ•æ¤œç´¢ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»ã‚½ãƒ¼ãƒˆï¼‰

### äºˆç´„ç®¡ç† (/api/v1/reservations)
- GET / - äºˆç´„ä¸€è¦§
- POST / - äºˆç´„ä½œæˆ
- GET /{id} - äºˆç´„è©³ç´°
- PUT /{id} - äºˆç´„æ›´æ–°
- DELETE /{id} - äºˆç´„å‰Šé™¤
- GET /calendar - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºç”¨ãƒ‡ãƒ¼ã‚¿

### ã‚¢ã‚µã‚¤ãƒ³ç®¡ç† (/api/v1/assignments)
- POST / - ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ã‚µã‚¤ãƒ³
- PUT /{id} - ã‚¢ã‚µã‚¤ãƒ³æ›´æ–°
- DELETE /{id} - ã‚¢ã‚µã‚¤ãƒ³è§£é™¤
- POST /{id}/accept - ã‚¢ã‚µã‚¤ãƒ³å—è«¾
- POST /{id}/reject - ã‚¢ã‚µã‚¤ãƒ³è¾é€€

### å‹¤æ€ ç®¡ç† (/api/v1/attendance)
- POST /clock-in - å‡ºå‹¤æ‰“åˆ»
- POST /clock-out - é€€å‹¤æ‰“åˆ»
- GET / - å‹¤æ€ ä¸€è¦§
- GET /{id} - å‹¤æ€ è©³ç´°
- GET /summary - æœˆé–“ã‚µãƒãƒªãƒ¼

### è©•ä¾¡ç®¡ç† (/api/v1/evaluations)
- POST / - è©•ä¾¡ä½œæˆ
- GET / - è©•ä¾¡ä¸€è¦§
- GET /{id} - è©•ä¾¡è©³ç´°
- GET /staff/{staff_id} - ã‚¹ã‚¿ãƒƒãƒ•åˆ¥è©•ä¾¡

### é€šçŸ¥ç®¡ç† (/api/v1/notifications)
- GET / - é€šçŸ¥ä¸€è¦§
- PUT /{id}/read - æ—¢èª­è¨­å®š
- POST /send - é€šçŸ¥é€ä¿¡

### LINEé€£æº (/api/v1/line)
- POST /webhook - LINE Webhook
- POST /send-message - LINEãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- GET /liff-token - LIFFèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—

## ğŸ¨ UI/UX æ–¹é‡

1. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: PCãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ã‚¹ãƒãƒ›å¯¾å¿œ
2. **Bootstrap 5ãƒ™ãƒ¼ã‚¹**: æ—¢å­˜HTMLã‚’å‚è€ƒã«çµ±ä¸€æ„Ÿã®ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³
3. **ã‚·ãƒ³ãƒ—ãƒ«ãƒ»ç›´æ„Ÿçš„**: æ“ä½œãŒåˆ†ã‹ã‚Šã‚„ã™ã„UI
4. **é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®æ˜ç¤º
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 ãƒ¬ãƒ™ãƒ«AAæº–æ‹ 

## ğŸ“ å‘½åè¦å‰‡

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Python)
- ãƒ•ã‚¡ã‚¤ãƒ«: snake_case (user_service.py)
- ã‚¯ãƒ©ã‚¹: PascalCase (UserService)
- é–¢æ•°/å¤‰æ•°: snake_case (get_user_by_id)
- å®šæ•°: UPPER_SNAKE_CASE (MAX_LOGIN_ATTEMPTS)

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (TypeScript)
- ãƒ•ã‚¡ã‚¤ãƒ«: PascalCase (UserList.tsx) for components, camelCase (userApi.ts) for others
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: PascalCase (UserList)
- é–¢æ•°/å¤‰æ•°: camelCase (getUserById)
- å®šæ•°: UPPER_SNAKE_CASE (API_BASE_URL)
- å‹/ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: PascalCase (UserType, ApiResponse)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- ãƒ†ãƒ¼ãƒ–ãƒ«: snake_case, è¤‡æ•°å½¢ (users, reservations)
- ã‚«ãƒ©ãƒ : snake_case (created_at, user_id)
- å¤–éƒ¨ã‚­ãƒ¼: {table}_id (user_id, company_id)

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ è¨­è¨ˆ
2. â­ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆERå›³ã€ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ï¼‰
3. â­ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIè¨­è¨ˆ
4. â­ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ
5. â­ èªè¨¼ãƒ»ãƒ­ã‚°ã‚¤ãƒ³è¨­è¨ˆ
6. â­ é–‹ç™ºç’°å¢ƒæ§‹ç¯‰

